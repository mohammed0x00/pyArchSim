# MIPS Assembly Program to Test Cache with Multiple Arrays (Vector Addition)

.data
arrayA:   .word  10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150, 160, 170, 180, 190, 200, 210, 220, 230, 240, 250, 260, 270, 280, 290, 300, 310, 320, 330, 340, 350, 360, 370, 380, 390, 400, 410, 420, 430, 440, 450, 460, 470, 480, 490, 500, 510, 520, 530, 540, 550, 560, 570, 580, 590, 600, 610, 620, 630, 640, 650, 660, 670, 680, 690, 700, 710, 720, 730, 740, 750, 760, 770, 780, 790, 800, 810, 820, 830, 840, 850, 860, 870, 880, 890, 900, 910, 920, 930, 940, 950, 960, 970, 980, 990, 1000
arrayB:   .word  1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33, 35, 37, 39, 41, 43, 45, 47, 49, 51, 53, 55, 57, 59, 61, 63, 65, 67, 69, 71, 73, 75, 77, 79, 81, 83, 85, 87, 89, 91, 93, 95, 97, 99, 101, 103, 105, 107, 109, 111, 113, 115, 117, 119, 121, 123, 125, 127, 129, 131, 133, 135, 137, 139, 141, 143, 145, 147, 149, 151, 153, 155, 157, 159, 161, 163, 165, 167, 169, 171, 173, 175, 177, 179, 181, 183, 185, 187, 189, 191, 193, 195, 197, 199
arrayC:   .space 400
arrLen:   .word  100

.text
    # Setup pointers and length
    la    $t7, arrLen
    lw    $t0, 0($t7)
    la    $t1, arrayA
    la    $t2, arrayB
    la    $t3, arrayC

    addiu $v0, $zero, 88   # ROI start
    syscall

    beq   $t0, $zero, vadd_done
vadd:
    lw    $t4, 0($t1)
    lw    $t5, 0($t2)
    addu  $t4, $t4, $t5
    sw    $t4, 0($t3)
    addiu $t1, $t1, 4
    addiu $t2, $t2, 4
    addiu $t3, $t3, 4
    addiu $t0, $t0, -1
    bne   $t0, $zero, vadd

vadd_done:
    addiu $v0, $zero, 88   # ROI end
    syscall

    addiu $v0, $zero, 10   # Exit
    syscall
